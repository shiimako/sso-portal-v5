{{define "content"}}

<div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md border border-gray-100">
  
  <div class="flex justify-between items-start mb-6">
      <div>
          <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
            <i data-lucide="user" class="w-6 h-6 text-blue-600"></i>
            Detail Pengguna
          </h2>
          <p class="text-gray-500 text-sm mt-1">Informasi lengkap pengguna sistem.</p>
      </div>
      <a href="/admin/user/edit/{{.Data.User.ID}}" class="flex items-center gap-2 px-4 py-2 bg-yellow-50 text-yellow-700 border border-yellow-200 rounded-lg hover:bg-yellow-100 transition text-sm font-medium">
          <i data-lucide="pencil" class="w-4 h-4"></i>
          Edit Data
      </a>
  </div>

  <div class="space-y-6">
    <div class="border-b border-gray-100 pb-4">
      <h4 class="text-xs font-bold uppercase text-gray-400 mb-1 flex items-center gap-2">
        <i data-lucide="user-pen" class="w-3 h-3"></i> Nama Lengkap
      </h4>
      <p class="text-lg font-medium text-gray-900">{{.Data.User.Name}}</p>
    </div>

    <div class="border-b border-gray-100 pb-4">
      <h4 class="text-xs font-bold uppercase text-gray-400 mb-1 flex items-center gap-2">
        <i data-lucide="mail" class="w-3 h-3"></i> Email
      </h4>
      <p class="text-gray-800">{{.Data.User.Email}}</p>
    </div>

    <div class="grid grid-cols-2 gap-6">
        <div class="border-b border-gray-100 pb-4">
          <h4 class="text-xs font-bold uppercase text-gray-400 mb-1 flex items-center gap-2">
            <i data-lucide="shield-check" class="w-3 h-3"></i> Status
          </h4>
          <span class="inline-block px-2 py-1 rounded text-sm font-medium capitalize {{if eq .Data.User.Status "active"}}bg-green-100 text-green-700{{else}}bg-gray-100 text-gray-600{{end}}">
            {{.Data.User.Status}}
          </span>
        </div>

        <div class="border-b border-gray-100 pb-4">
          <h4 class="text-xs font-bold uppercase text-gray-400 mb-1 flex items-center gap-2">
            <i data-lucide="key-round" class="w-3 h-3"></i> Peran
          </h4>
          <p class="text-gray-800 font-medium capitalize">
            {{if .Data.User.Roles}}
                {{(index .Data.User.Roles 0).Name}}
            {{else}}
                -
            {{end}}
          </p>
        </div>
    </div>

    {{if .Data.User.Student}} 
    <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
        <h4 class="text-sm font-bold text-blue-800 mb-2 flex items-center gap-2">
            <i data-lucide="graduation-cap" class="w-4 h-4"></i> Data Mahasiswa
        </h4>
        <div>
            <span class="text-xs text-blue-600 block">NIM</span>
            <span class="font-mono font-medium text-gray-900">
                {{if .Data.User.Student.NIM.Valid}}{{.Data.User.Student.NIM.String}}{{else}}-{{end}}
            </span>
        </div>
    </div>
    {{end}}

    {{if .Data.User.Lecturer}}
    <div class="bg-orange-50 p-4 rounded-lg border border-orange-100">
        <h4 class="text-sm font-bold text-orange-800 mb-3 flex items-center gap-2">
            <i data-lucide="briefcase" class="w-4 h-4"></i> Data Dosen
        </h4>
        
        <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
                <span class="text-xs text-orange-600 block">NIP</span>
                <span class="font-mono font-medium text-gray-900">
                    {{if .Data.User.Lecturer.NIP.Valid}}{{.Data.User.Lecturer.NIP.String}}{{else}}-{{end}}
                </span>
            </div>
            <div>
                <span class="text-xs text-orange-600 block">NUPTK</span>
                <span class="font-mono font-medium text-gray-900">
                    {{if .Data.User.Lecturer.NUPTK.Valid}}{{.Data.User.Lecturer.NUPTK.String}}{{else}}-{{end}}
                </span>
            </div>
        </div>

        {{if .Data.Positions}}
        <div class="border-t border-orange-200 pt-3">
            <span class="text-xs text-orange-600 block mb-1">Jabatan Struktural/Fungsional:</span>
            <ul class="list-disc list-inside text-sm text-gray-800 space-y-1">
                {{range .Data.Positions}}
                <li>
                    <b>{{.}}</b> 
                </li>
                {{end}}
            </ul>
        </div>
        {{end}}
    </div>
    {{end}}

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-2">
        <div>
          <h4 class="text-xs font-bold uppercase text-gray-400 mb-1 flex items-center gap-2">
            <i data-lucide="map-pin" class="w-3 h-3"></i> Alamat
          </h4>
          <p class="text-gray-800 text-sm leading-relaxed">
            {{if .Data.User.Address.Valid}} {{.Data.User.Address.String}}
            {{else}} - {{end}}
          </p>
        </div>

        <div>
          <h4 class="text-xs font-bold uppercase text-gray-400 mb-1 flex items-center gap-2">
            <i data-lucide="phone" class="w-3 h-3"></i> No. Telepon
          </h4>
          <p class="text-gray-800 font-mono text-sm">
            {{if .Data.User.Phone.Valid}} {{.Data.User.Phone.String}} 
            {{else}} - {{end}}
          </p>
        </div>
    </div>
  </div>

  <div class="mt-8 pt-6 border-t border-gray-100">
    <a
      href="/admin/users"
      class="inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition"
    >
      <i data-lucide="arrow-left" class="w-4 h-4"></i>
      Kembali ke Daftar
    </a>
  </div>
</div>

{{end}}